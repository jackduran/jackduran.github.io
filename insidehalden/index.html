<!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <title>Inside Halden</title>
     <link rel="stylesheet" href="main.css">
 </head>
 <body>
   <!-- Hero -->

   <div class="header">
         <h1 >INSIDE HALDEN</h1>
         <h3 >A Virtual Tour Inside the Architecture of Carceral Humanitarianism</h3>
         <p>BY JACK DURAN</p>
         <video class="dronevid" autoplay muted loop id="v1" tabindex="0", autobuffer preload>
             <source type='video/mp4;codecs="avc1.42E01E, mp4a.40.2"' src="Halden_drone_clip.mp4"></source>
         </video>
     </div>

     <!-- Intro paragraph -->
     <div class="intro">
         <p><span class="myDropcap">L</span> orem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
     </div>

     <!-- HALDEN VIDEO -->
     <video id="v0" tabindex="0", autobuffer preload>
        <source type='video/mp4' src="halden_prison.mp4"></source>
        <!-- <source type="video/webm" src="halden_prison_vid.webm"></source> -->
     </video>

   <!-- Video Animation section (tutorial: https://coursetro.com/posts/code/163/Create-an-Awesome-Scroll-based-HTML5-Video-Explainer )-->
       <section class="container">
         <div class="content">
             <h2>CARCERAL SIMULACRUM</h2>
             <h3>HALDEN'S MICRO-SOCIETY & ITS DISCONTENTS</h3>
             <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
         </div>
     </section>

     <section class="container">
         <div class="content">
             <h2>"TECHNICIANS OF BEHAVIOR""</h2>
             <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
         </div>
     </section>

     <section class="container">
         <div class="content">
             <h2>ARCHITECTURES OF<br>CARCERAL HUMANITARIANISM</h2>
             <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
         </div>
     </section>

     <section class="container">
         <div class="content">
             <h2>A SOCIETY OF CONTROL</h2>
             <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
         </div>
     </section>

     <div id="set-height"></div>


     <!--  (concluding section)-->
     <div class="newyork">
         <img src="images/bkjail.jpg" alt="brooklyn justice hub" class="center" width="50%">
         <h4 class="newyork">A design and site proposal for a borough-based jail in Brooklyn. </h4>
         <h2 class="newyork">IMPORTING HALDEN</h2>
         <h3 class="newyork">In New York City, with the closure of Rikers, a new carceral architectural ideology is born.</h3>
         <p class="newyork">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
     </div>

     <!-- Halden Aeiral Photo Zoom Element TEST -->
  <div class="haldenimageblock">
     <div class="photo"></div>
 </div>
 <div class="haldenimagebg"></div>


     <!-- <div class="justicehubs">
         <img src="images/jailexternal.jpg" alt="justice hub" width="100%">
     </div> -->



     <script src='https://unpkg.co/gsap@3/dist/gsap.min.js'></script>
     <script src='https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js'></script><script  src="./script.js"></script>
     <script src="sticky.js"></script>

     <script>

         enterView({
             selector: 'section',
             enter: function(el) {
                 el.classList.add('entered');
             }
         })

         var frameNumber = 0;
         playbackConst = 400; 
         setHeight = document.getElementById("set-height"), 
         vid = document.getElementById('v0'); 

     // sets the page height according to video length
     vid.addEventListener('loadedmetadata', function() {
     setHeight.style.height = Math.floor(vid.duration) * playbackConst + "px";
     });


     // requestAnimationFrame for smooth playback
     function scrollPlay(){  
     var frameNumber  = window.pageYOffset/playbackConst;
     vid.currentTime  = frameNumber;
     window.requestAnimationFrame(scrollPlay);
     }

     window.requestAnimationFrame(scrollPlay);

     </script>



 </body>
 </html>
